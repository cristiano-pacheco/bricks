# OpenTelemetry tracing configuration
# Loaded via config path: app.open-telemetry
#
# Environment variable overrides: APP_ prefix, underscores become dots (e.g. APP_APP_OPEN_TELEMETRY_APP_NAME=myapp)

app:
  open-telemetry:
    # Application identification
    app_name: myapp                       # (required) Application name for tracing, no default
    app_version: "1.0"
    # (optional) Application version for service metadata, default: ""

    # Core settings
    trace_enabled: true                   # (optional) Enable OpenTelemetry tracing, default: false
    trace_url: localhost:4317             # (required if enabled) OTLP endpoint URL (host:port, no http/https prefix), no default
    tracer_vendor: jaeger                 # (optional) Tracer vendor name (jaeger, tempo, datadog), default: ""
    exporter_type: grpc                    # (optional) Exporter type: "grpc" or "http", default: "grpc"

    # Batch processing settings
    batch_timeout: 5s                     # (optional) Maximum time to wait before sending a batch, default: 5s
    max_batch_size: 512                   # (optional) Maximum number of spans in a batch, default: 512

    # Connection settings
    insecure: true                        # (optional) Use insecure connection (no TLS), default: false

    # Sampling settings
    # (optional) Trace sampling rate (0.0 to 1.0), default: 0.01 (1%)
    # Examples: 1.0 = 100%, 0.5 = 50%, 0.1 = 10%, 0.0 = disabled
    sample_rate: 1.0

# Configuration examples for different environments:

# Development (local Jaeger):
# app:
#   open-telemetry:
#     app_name: myapp
#     trace_enabled: true
#     tracer_vendor: jaeger
#     trace_url: localhost:4317
#     exporter_type: grpc
#     insecure: true
#     sample_rate: 1.0

# Production (secure endpoint):
# app:
#   open-telemetry:
#     app_name: myapp
#     trace_enabled: true
#     tracer_vendor: tempo
#     trace_url: tempo.production.com:443
#     exporter_type: grpc
#     insecure: false
#     sample_rate: 0.1
#     batch_timeout: 10s
#     max_batch_size: 1024

# HTTP exporter (Jaeger HTTP):
# app:
#   open-telemetry:
#     app_name: myapp
#     trace_enabled: true
#     tracer_vendor: jaeger
#     trace_url: localhost:4318
#     exporter_type: http
#     insecure: true
#     sample_rate: 1.0

# Disabled tracing:
# app:
#   open-telemetry:
#     trace_enabled: false
